---
 
 - hosts: all
   become: true
   tasks:

      - name: copy html file for site
        tags: test
        copy:
           src: default_site.html
           dest: /var/www/html/index.html
           owner: root
           group: root
           mode: 0644

 - hosts: test_servers
   become: true
   tasks:

      - name: install unzip
        package: 
            name: unzip
       
 
      - name: install terraform
        unarchive:
            src: https://releases.hashicorp.com/terraform/1.13.3/terraform_1.13.3_linux_amd64.zip 
            dest: /usr/local/bin
            remote_src: yes
            mode: 0755
            owner: root 
            group: root
 
 - hosts: test_servers
   become: true
   tasks:
 
      -  name: stop apache2 service
         tags: stop  
         service: 
             name: apache2
             state: stopped
         when: ansible_distribution == "Debian" 
